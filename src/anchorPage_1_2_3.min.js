/**
 *AnchorPageJS Version 1.2.3
 *Author: HerrMutig
 *License: MIT
 */
Fixed Weird sliding animations(function($){var anchorPageFunctionCalls=0;$.fn.anchorPage=function(options){var settings=$.extend({startMargin:150,endMargin:150,duration:2000,waitingtime:200,easing:"swing"},options);var posObjArr=[];var currentPos;var maxPos;var minPos;var lockAnimation;var movedByWheel;var lastMouseScroll;var touchScreenStartYPos;var touchScreenEndYPos;var movedByTouch;var touchDirection;posObjArr=$(this).length>0?$(this):null;if(posObjArr===null)
return;if(anchorPageFunctionCalls>1)
return;anchorPageFunctionCalls++;maxPos=posObjArr.length-1;minPos=0;lockAnimation=!1;function animateOnComplete(){setTimeout(function(){lockAnimation=!1},settings.waitingtime)}
function animateOnStart(e){while($(this).queue().length>1)
{$(this).stop()}
lockAnimation=!0}
function animationOnRun()
{}
function animateWindow(position){$("html, body").animate({scrollTop:position},{start:animateOnStart,step:animationOnRun,complete:animateOnComplete,duration:settings.duration,easing:settings.easing})}
function allowMoving(event){if(movedByWheel){if(minPos===getCurrentPosition()&&getScrollDirection(event)==="up"||maxPos===getCurrentPosition()&&getScrollDirection(event)==="down"){return!0}
if($(window).scrollTop()>Math.round($(posObjArr[maxPos]).offset().top+settings.endMargin)&&getScrollDirection(event)==="up"){return!0}
if($(window).scrollTop()<Math.round($(posObjArr[minPos]).offset().top-settings.startMargin)&&getScrollDirection(event)==="down"){return!0}}
console.log("WINDOW: "+$(window).scrollTop());console.log("POS:"+($(posObjArr[getCurrentPosition()]).offset().top-settings.startMargin));if(movedByTouch){if(minPos===getCurrentPosition()&&getTouchDirection()==="down"||maxPos===getCurrentPosition()&&getTouchDirection(event)==="up"){return!0}
if($(window).scrollTop()<Math.round($(posObjArr[minPos]).offset().top-settings.startMargin)&&getTouchDirection(event)==="up"){return!0}
if($(window).scrollTop()>Math.round($(posObjArr[maxPos]).offset().top+settings.endMargin)&&getTouchDirection(event)==="down"){return!0}}
return!1}
function scrollToAnchor(restriction){movedByWheel=!1;movedByTouch=!1;if(lockAnimation===!0)
return;var scrollToAnchor=getCurrentPosition();if(restriction==="next"){if($(window).scrollTop()<Math.round($(posObjArr[minPos]).offset().top)){scrollToAnchor=getCurrentPosition()-1}
animateWindow(Math.round($(posObjArr[scrollToAnchor+1]).offset().top))}else if(restriction==="prev"){if($(window).scrollTop()>Math.round($(posObjArr[maxPos]).offset().top)){scrollToAnchor=getCurrentPosition()+1}
animateWindow(Math.round($(posObjArr[scrollToAnchor-1]).offset().top))}
return!1}
function setCurrentPosition()
{currentPos=0;for(var i=0;i<posObjArr.length;i++)
{if($(window).scrollTop()>=Math.round($(posObjArr[i]).offset().top))
{currentPos=i}}}
function getCurrentPosition(){if(currentPos===undefined)
setCurrentPosition();return currentPos}
function getScrollDirection(event){if(event.originalEvent===undefined){return lastMouseScroll===undefined?-1:lastMouseScroll}else if(event.originalEvent.deltaY<0){lastMouseScroll="up";return lastMouseScroll}else if(event.originalEvent.deltaY>0){lastMouseScroll="down";return lastMouseScroll}}
function blockExceededMovementScrolling(event){if(!allowMoving(event)&&lockAnimation===!1)
{if(getCurrentPosition()===minPos)
{scrollToAnchor("next")}
else if(getCurrentPosition()===maxPos)
{scrollToAnchor("prev")}}}
function setTouchDirection(){if(touchScreenStartYPos>touchScreenEndYPos){touchDirection="up"}else if(touchScreenStartYPos<touchScreenEndYPos){touchDirection="down"}}
function getTouchDirection(deletion){var temp=touchDirection!==undefined?touchDirection:null;if(deletion===!0)
{touchDirection=null}
return temp}
function EventScrollToSection(event){movedByWheel=!0;movedByTouch=!1;getScrollDirection(event);setCurrentPosition();if(allowMoving(event)){return}
event.preventDefault();if(getScrollDirection(event)==="up"){scrollToAnchor("prev")}else if(getScrollDirection(event)==="down"){scrollToAnchor("next")}}
function EventScrollBlock(event){if(movedByTouch||movedByWheel)
blockExceededMovementScrolling(event)}
function EventTouchStart(event)
{touchScreenStartYPos=event.touches[0].screenY;movedByWheel=!1;movedByTouch=!0;setCurrentPosition()}
function EventTouchMove(event){if(!allowMoving(event)){}
touchScreenEndYPos=event.touches[0].screenY;setTouchDirection()}
function EventTouchToSection(event){if(allowMoving(event)){getTouchDirection();return}
if(getTouchDirection()==="down"){scrollToAnchor("prev")}else if(getTouchDirection()==="up"){scrollToAnchor("next")}
getTouchDirection(!0)}
window.addEventListener("scroll",EventScrollBlock,{passive:!0});$(window).on("wheel",EventScrollToSection);$(window).on("resize ",function(){});window.addEventListener("touchstart",EventTouchStart);window.addEventListener("touchmove",EventTouchMove,{passive:!1,cancelable:!0,cancelBubble:!0});window.addEventListener("touchend",EventTouchToSection)}}(jQuery))